# bot/handlers/faq.py

from aiogram import Router
from aiogram.filters import Command
from aiogram.types import Message, CallbackQuery, InlineKeyboardMarkup, InlineKeyboardButton

router = Router()

@router.message(Command("faq"))
async def faq_cmd(message: Message):
    keyboard = InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üîÆ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã", callback_data="predictions")],
        [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="h0me")]
    ])
    
    text = (
        "‚ùì <b>–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</b>\n\n"
        
        "<b>üîÆ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–æ–≥–Ω–æ–∑—ã?</b>\n"
        "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AI-–º–æ–¥–µ–ª—å (Gradient Boosting Classifier), –∫–æ—Ç–æ—Ä–∞—è –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç:\n"
        "‚Ä¢ –î–≤–∏–∂–µ–Ω–∏–µ —Ü–µ–Ω –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π\n"
        "‚Ä¢ –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±—ä–µ–º—ã —Ç–æ—Ä–≥–æ–≤\n"
        "‚Ä¢ –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–µ–π (FinBERT)\n"
        "‚Ä¢ –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –º–µ–∂–¥—É —Ü–µ–Ω–æ–π –∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏\n\n"
        
        "<b>üì¨ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—Å—Å—ã–ª–∫–∞?</b>\n"
        "1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ /predictions\n"
        "2. –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –º–æ–Ω–µ—Ç—É\n"
        "3. –ù–∞–∂–º–∏—Ç–µ ¬´–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É¬ª\n"
        "4. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ <b>10:00 –ú–°–ö</b> –ø–æ–ª—É—á–∞–π—Ç–µ:\n"
        "   ‚Ä¢ –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (UP/DOWN)\n"
        "   ‚Ä¢ –¢–µ–∫—É—â—É—é —Ü–µ–Ω—É\n"
        "   ‚Ä¢ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ 24 —á–∞—Å–∞\n"
        "   ‚Ä¢ –¶–µ–ª–µ–≤—É—é —Ü–µ–Ω—É\n\n"
        
        "<b>üéØ –ù–∞—Å–∫–æ–ª—å–∫–æ —Ç–æ—á–Ω—ã –ø—Ä–æ–≥–Ω–æ–∑—ã?</b>\n"
        "‚Ä¢ –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ: 53.1%\n"
        "‚Ä¢ –≠—Ç–æ –Ω–∞ 3.1% –≤—ã—à–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–≥–∞–¥—ã–≤–∞–Ω–∏—è\n"
        "‚Ä¢ AUC-ROC: 0.537\n"
        "‚ö†Ô∏è –ü—Ä–æ–≥–Ω–æ–∑—ã –Ω–æ—Å—è—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä!\n"
        "–ù–µ —è–≤–ª—è—é—Ç—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π!\n\n"
        
        "<b>üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</b>\n"
        "‚Ä¢ –¶–µ–Ω—ã: –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç\n"
        "‚Ä¢ –ü—Ä–æ–≥–Ω–æ–∑—ã: –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ 04:00 –ú–°–ö\n"
        "‚Ä¢ –†–∞—Å—Å—ã–ª–∫–∞: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ 10:00 –ú–°–ö\n\n"
        
        "<b>üí° –ö–Ω–æ–ø–∫–∞ ¬´–ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑¬ª</b>\n"
        "–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–≤–µ–∂–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö\n\n"
        
        "<b>üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏</b>\n"
        "‚Ä¢ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å: /subscriptions\n"
        "‚Ä¢ –û—Ç–ø–∏—Å–∞—Ç—å—Å—è: /delete\n\n"
        
        "<b>ü§ñ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</b>\n"
        "‚Ä¢ Python + Django + Celery\n"
        "‚Ä¢ Gradient Boosting Classifier\n"
        "‚Ä¢ FinBERT (sentiment analysis)\n"
        "‚Ä¢ CoinGecko API\n"
        "‚Ä¢ NewsAPI.org\n\n"
        
        "<b>üìä –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –º–æ–¥–µ–ª–∏:</b>\n"
        "‚Ä¢ –í–∞–∂–Ω–æ—Å—Ç—å —Ü–µ–Ω–æ–≤—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤: 95.3%\n"
        "‚Ä¢ –í–∞–∂–Ω–æ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–µ–π: 4.7%\n"
        "‚Ä¢ –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫: –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ (33.2%)\n"
    )
    
    await message.answer(text, reply_markup=keyboard, parse_mode="HTML")


@router.callback_query(lambda c: c.data == "faq")
async def faq_callback(query: CallbackQuery):
    await faq_cmd(query.message)
    await query.answer()
